<div class="login-page">
  <div class="login-container">
    <h2>Login</h2>

    <!-- Customer Login -->
    <form autocomplete="off">
      <input
        type="email"
        [(ngModel)]="email"
        name="email"
        placeholder="Email"
        autocomplete="off"
      />

      <div class="password-wrapper">
        <input
          [type]="showPassword ? 'text' : 'password'"
          [(ngModel)]="password"
          name="password"
          placeholder="Password"
          autocomplete="new-password"
        />
        <span class="toggle-icon" (click)="togglePassword()">
          {{ showPassword ? 'Hide' : 'Unhide' }}
        </span>
      </div>
    </form>


    <button (click)="onLogin()">Login</button>


    <p class="forgot-text" (click)="openForgotPassword()">Forgot Password?</p>

    <!-- Admin Button -->
    <button class="admin-btn" (click)="openAdminModal('login')">Admin</button>

    <p class="signup-text">
      Don't have an account?
      <span class="signup-link" (click)="openSignUpModal()">Sign Up</span>
    </p>
  </div>
</div>

<!-- Sign Up Modal -->

<div class="modal-backdrop" *ngIf="isSignUpOpen" (click)="closeSignUpModal()">
  <div class="modal-container" (click)="$event.stopPropagation()">
    <h2>Sign Up</h2>

    <form autocomplete="off">
      <input
        type="text"
        [(ngModel)]="signupName"
        name="signupName"
        placeholder="Full Name"
      />

      <input
        type="email"
        [(ngModel)]="signupEmail"
        name="signupEmail"
        placeholder="Email"
        autocomplete="off"
      />

      <div class="password-wrapper">
        <input
          [type]="showSignUpPassword ? 'text' : 'password'"
          [(ngModel)]="signupPassword"
          name="signupPassword"
          placeholder="Password"
          autocomplete="new-password"
        />
        <span class="toggle-icon" (click)="toggleSignUpPassword()">
          {{ showSignUpPassword ? 'Hide' : 'Unhide' }}
        </span>
      </div>

      <input
        type="text"
        [(ngModel)]="signupContact"
        name="signupContact"
        placeholder="Contact Number"
      />

      <input
        type="text"
        [(ngModel)]="signupAddress"
        name="signupAddress"
        placeholder="Address"
      />


      <button type="button" (click)="onSignUp()">Sign Up</button>
    </form>

    <button class="close-btn" (click)="closeSignUpModal()">X</button>
  </div>
</div>


<!-- Admin Modal (Login/Register combined) -->
<div class="modal-backdrop" *ngIf="isAdminModalOpen" (click)="closeAdminModal()">
  <div class="modal-container" (click)="$event.stopPropagation()">
    <h2>Admin {{ adminMode === 'login' ? 'Login' : 'Registration' }}</h2>

    <!-- Admin Login -->
<ng-container *ngIf="adminMode === 'login'">
  <input type="email" [(ngModel)]="adminEmail" placeholder="Email" />

  <div class="password-wrapper">
    <input
      [type]="showAdminPassword ? 'text' : 'password'"
      [(ngModel)]="adminPassword"
      placeholder="Password"
    />
    <span class="toggle-icon" (click)="toggleAdminPassword()">
      {{ showAdminPassword ? 'Hide' : 'Unhide' }}
    </span>
  </div>

  <button (click)="onAdminLogin()">Login</button>
</ng-container>


    <button class="close-btn" (click)="closeAdminModal()">X</button>
  </div>
</div>
